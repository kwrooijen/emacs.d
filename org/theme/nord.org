#+LEXICAL_BINDING: nil
#+PRIORITY: 2

* Theme
:PROPERTIES:
:PACKAGE: embellish-theme
:END:

Font and color utilities. Theme faces are handled by the embellish-theme
package (loaded in =init.el=, applied in =visual.org=).

** Color Reference

Use =M-x kwrooijen/hex-colors-enable= to preview colors in this buffer.

| Semantic    | Hex     | Description                          |
|-------------+---------+--------------------------------------|
| strong      | #FFFFFF | Primary emphasis, bold text          |
| foreground  | #ECEFF4 | Default text                         |
| subtle      | #434C5E | Secondary, muted elements            |
| faded       | #616E88 | De-emphasized, comments              |
| salient     | #81A1C1 | Accent, links, keywords              |
| popout      | #D08770 | Strings, special callouts            |
| error       | #BF616A | Error states                         |
| warning     | #FFC16D | Warning states                       |
| success     | #A3BE8C | Success states                       |
| info        | #88C0D0 | Informational highlights             |
| background  | #222436 | Main background                      |
| darken      | #1e2030 | Darker background (sidebars, blocks) |
| highlight   | #2f334d | Selection, cursor line               |

** Init :init:

#+BEGIN_SRC emacs-lisp
(defvar kwrooijen/font "Roboto Mono"
  "Default font family.")

;; Set font
(set-face-attribute 'default nil
                    :family kwrooijen/font
                    :weight 'thin)
#+END_SRC

* Font Size
:PROPERTIES:
:PACKAGE: frame
:END:

** Init :init:

#+BEGIN_SRC emacs-lisp
(defcustom kwrooijen/default-font-size 200
  "Default font size (in 1/10 pt)."
  :type 'integer
  :group 'kwrooijen/theme)

(defcustom kwrooijen/font-step-size 20
  "Font size adjustment step."
  :type 'integer
  :group 'kwrooijen/theme)

(defun kwrooijen/font-size-set (size)
  "Set global font SIZE."
  (set-face-attribute 'default nil :height size))

(defun kwrooijen/font-size-increase ()
  "Increase global font size."
  (interactive)
  (kwrooijen/font-size-set (+ (face-attribute 'default :height) kwrooijen/font-step-size)))

(defun kwrooijen/font-size-decrease ()
  "Decrease global font size."
  (interactive)
  (kwrooijen/font-size-set (- (face-attribute 'default :height) kwrooijen/font-step-size)))

(defun kwrooijen/font-size-reset ()
  "Reset global font size to default."
  (interactive)
  (kwrooijen/font-size-set kwrooijen/default-font-size))

(kwrooijen/font-size-set kwrooijen/default-font-size)

(general-define-key
 "C-x C-=" 'kwrooijen/font-size-increase
 "C-x C--" 'kwrooijen/font-size-decrease
 "C-x C-0" 'kwrooijen/font-size-reset)
#+END_SRC

* Utilities

** Hex Color Preview

#+BEGIN_SRC emacs-lisp
(defun kwrooijen/hex-colors-enable ()
  "Enable hex color preview in current buffer."
  (interactive)
  (font-lock-add-keywords
   nil
   '(("#[[:xdigit:]]\\{6\\}"
      (0 (put-text-property (match-beginning 0) (match-end 0)
                            'face (list :foreground (match-string-no-properties 0)))))))
  (font-lock-flush))

(defun kwrooijen/hex-colors-disable ()
  "Disable hex color preview in current buffer."
  (interactive)
  (font-lock-remove-keywords
   nil
   '(("#[[:xdigit:]]\\{6\\}"
      (0 (put-text-property (match-beginning 0) (match-end 0)
                            'face (list :foreground (match-string-no-properties 0)))))))
  (font-lock-flush))
#+END_SRC

* Package: Web Mode
:PROPERTIES:
:PACKAGE: web-mode
:DEFER: t
:END:

** Init :init:

#+BEGIN_SRC emacs-lisp
(add-to-list 'auto-mode-alist '("\\.html\\'" . web-mode))
#+END_SRC

* Package: Shr :config:
:PROPERTIES:
:PACKAGE: shr
:DEFER: t
:END:

#+BEGIN_SRC emacs-lisp
(set-face-attribute 'shr-text nil
                    :family kwrooijen/font
                    :weight 'light)
#+END_SRC
